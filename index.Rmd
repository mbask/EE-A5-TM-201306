---
title       : A5 Technical meeting
subtitle    : Jyväskylä (Finland), June 18, 2013
author      : Giorgio Matteucci, Marco Bascietto
job         : CNR - IBAF
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
github:
  user: mbask
  repo: EE-A5-TM-201306
---
```{r "libraryLoad", cache=FALSE, include=FALSE, echo=FALSE}
library(data.table)
library(RSQLite)
library(sqlutils)
suppressPackageStartupMessages(library(googleVis))
```


```{r "dbSetup", cache=FALSE, include=FALSE, echo=FALSE}
# Setup e connessione SQLite -----------------------------------------------


sqlPaths("~/Documents/Academy/IBAF/ENVEUROPE/A5Finland/sql")

db.sqlite.cfg  <- list(
  fName    = "~/Documents/Academy/IBAF/ENVEUROPE/A5/DB/EEA5SiteParameters.db"
  , driver =  dbDriver("SQLite")
  , query  = list("getAvailableDataByCountry")
  , queryTitle = list("Uploaded Data")
  , countryNames = c("Poland", "Bulgaria")
)

dbConnection <- with(db.sqlite.cfg, dbConnect(driver, dbname = fName))

```

## Statistiche generali

1. Edit YAML front matter
2. Write using R Markdown
3. Use an empty line followed by three dashes to separate slides!

---
## Andamento della sottomissione



---
## Problemi incontrati nella sottomissione

* FTP
* DEIMS
* Data tool
* Google Drive



---
## Proposte di soluzioni

* FTP
* DEIMS
* Data tool
*publish("mbask", "EE-A5-TM-201306")
 Google Drive



---
## Statistiche per Nazione

```{r "countryRawDataQuery", echo=FALSE, cache=FALSE, results='asis'}
countryRawData_l <- lapply(
  db.sqlite.cfg$countryNames
  , function(cName) execQuery(db.sqlite.cfg$query[1], connection = dbConnection, countryName = cName)
  )

# Convert Lat and Long coordinates in Lat:Long
countryRawData_l <- lapply(
  countryRawData_l
  , function(country_df) within(country_df, {latLong <- paste(siteLat, siteLong, sep = ":")})
  )

countryRawData_l[[1]] <- data.table(
  countryRawData_l[[1]]
  , key = c("siteLTERCode", "siteName", "domainName")
  )

plot(
  gvisMap(
    unique(countryRawData_l[[1]])
    , locationvar = "latLong"
    #, tipvar      = "tip"
    , options     = list(
      mapType     = 'satellite'
      , useMapTypeControl = TRUE
      , width = 1000
      , height = 600
      )
    , chartid = "A5Plot"
    )
  )

```

---
## Austria

* Mappa siti
* Stat per singolo sito


---
## Bulgaria








---
## Finland



---
## Germany



---
## Hungary



---
## Lithuania



---
## Poland



---
## Romania



---
## Spain



---
## Sweden




---
## Stat aggregate oer dominio



---
## I parametri più misurati per dominio


---
## Kick off discussion

1. Obiettivo: pubblicazione peer-review
2. Analisi spaziale (non temporale)

* Panel esperti di dominio? -> 3 progetti
* Singolo panel inter-domain? -> 1 progettone
* 

```{r "closeDBConnection", cache=FALSE, include=FALSE, echo=FALSE}
dbDisconnect(dbConnection)
```